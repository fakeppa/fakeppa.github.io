import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,b as a,o as t}from"./app-BIRf01Ue.js";const l={};function n(h,s){return t(),e("div",null,s[0]||(s[0]=[a(`<h2 id="不安全的日志" tabindex="-1"><a class="header-anchor" href="#不安全的日志"><span>不安全的日志</span></a></h2><p>首先运行靶场应用或者用以下命令启动程序</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> am</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> infosecadventures.allsafe/.MainActivity</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Starting: Intent { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cmp</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">infosecadventures.allsafe/.MainActivity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先查找应用pid</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pidof</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> infosecadventures.allsafe</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;21612</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后利用<code>logcat</code>过滤应用日志</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logcat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --pid=</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">日志。。。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不安全的日志记录复现成功<br><img src="https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20251009184511.png" alt="image.png" loading="lazy"><br> 或者动态获取应用pid</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /f %i in (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;adb shell pidof infosecadventures.allsafe&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> adb logcat --pid=%i</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="密码硬编码" tabindex="-1"><a class="header-anchor" href="#密码硬编码"><span>密码硬编码</span></a></h2><p>打开jadx，找到当前关卡的代码，定义了一个超长的SOAP体</p><div class="language-soap line-numbers-mode" data-highlighter="shiki" data-ext="soap" data-title="soap" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public static final String BODY = &quot;\\n            &lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;\\n            &lt;soap:Header&gt;\\n                 &lt;UsernameToken xmlns=\\&quot;http://siebel.com/webservices\\&quot;&gt;superadmin&lt;/UsernameToken&gt;\\n                 &lt;PasswordText xmlns=\\&quot;http://siebel.com/webservices\\&quot;&gt;supersecurepassword&lt;/PasswordText&gt;\\n                 &lt;SessionType xmlns=\\&quot;http://siebel.com/webservices\\&quot;&gt;None&lt;/SessionType&gt;\\n            &lt;/soap:Header&gt;\\n            &lt;soap:Body&gt;\\n                 &lt;!-- data goes here --&gt;\\n            &lt;/soap:Body&gt;\\n            &lt;/soap:Envelope&gt;\\n        &quot;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>xmlns:soap=&quot;<code>http://schemas.xmlsoap.org/soap/envelope/\\SOAP</code>是SOAP协议声明</li><li>发现在<code>UsernameToken</code>和<code>PasswordText</code>中硬编码了密码和用户名</li></ul><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h2>`,14)]))}const r=i(l,[["render",n],["__file","allsafe.html.vue"]]),o=JSON.parse('{"path":"/article/01_%E9%A1%B9%E7%9B%AE/%E5%AE%89%E5%8D%93%E9%80%86%E5%90%91/allsafe.html","title":"allsafe","lang":"zh-CN","frontmatter":{"aliases":null,"cssclasses":null,"tags":null,"icon":"pen-to-square","date":"2025-10-09T00:00:00.000Z","title":"allsafe","category":["项目"],"description":"不安全的日志 首先运行靶场应用或者用以下命令启动程序 首先查找应用pid 然后利用logcat过滤应用日志 不安全的日志记录复现成功 image.png 或者动态获取应用pid 密码硬编码 打开jadx，找到当前关卡的代码，定义了一个超长的SOAP体 xmlns:soap=\\"http://schemas.xmlsoap.org/soap/envelop...","head":[["meta",{"property":"og:url","content":"https://github.com/fakeppa/fakeppa.github.io/article/01_%E9%A1%B9%E7%9B%AE/%E5%AE%89%E5%8D%93%E9%80%86%E5%90%91/allsafe.html"}],["meta",{"property":"og:site_name","content":"问己"}],["meta",{"property":"og:title","content":"allsafe"}],["meta",{"property":"og:description","content":"不安全的日志 首先运行靶场应用或者用以下命令启动程序 首先查找应用pid 然后利用logcat过滤应用日志 不安全的日志记录复现成功 image.png 或者动态获取应用pid 密码硬编码 打开jadx，找到当前关卡的代码，定义了一个超长的SOAP体 xmlns:soap=\\"http://schemas.xmlsoap.org/soap/envelop..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20251009184511.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-29T15:36:32.000Z"}],["meta",{"property":"article:published_time","content":"2025-10-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-29T15:36:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"allsafe\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20251009184511.png\\"],\\"datePublished\\":\\"2025-10-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-10-29T15:36:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"fakeppa\\",\\"url\\":\\"https://github.com/fakeppa/fakeppa.github.io\\"}]}"]]},"headers":[{"level":2,"title":"不安全的日志","slug":"不安全的日志","link":"#不安全的日志","children":[]},{"level":2,"title":"密码硬编码","slug":"密码硬编码","link":"#密码硬编码","children":[]},{"level":2,"title":"","slug":"","link":"#","children":[]}],"git":{"createdTime":1760006522000,"updatedTime":1761752192000,"contributors":[{"name":"fakeppa","username":"fakeppa","email":"l17091799155@qq.com","commits":48,"url":"https://github.com/fakeppa"}]},"readingTime":{"minutes":0.77,"words":230},"filePathRelative":"article/01_项目/安卓逆向/allsafe.md","localizedDate":"2025年10月9日","excerpt":"<h2>不安全的日志</h2>\\n<p>首先运行靶场应用或者用以下命令启动程序</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">adb</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> shell</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> am</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> start</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -n</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> infosecadventures.allsafe/.MainActivity</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;Starting: Intent { </span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">cmp</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">infosecadventures.allsafe/.MainActivity</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> }</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{r as comp,o as data};
