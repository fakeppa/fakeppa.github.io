import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,b as i,o as a}from"./app-5cKL2XMR.js";const d={};function n(r,e){return a(),s("div",null,e[0]||(e[0]=[i('<h2 id="提权" tabindex="-1"><a class="header-anchor" href="#提权"><span>提权</span></a></h2><p>PrivEsca---PE</p><h3 id="几种权限体制" tabindex="-1"><a class="header-anchor" href="#几种权限体制"><span>几种权限体制</span></a></h3><table><thead><tr><th><strong>特性​</strong>​</th><th>​<strong>​UGO​</strong>​</th><th>​<strong>​SUID​</strong>​</th><th>​<strong>​SGID​</strong>​</th></tr></thead><tbody><tr><td>​<strong>​核心目的​</strong>​</td><td>基础权限控制（读/写/执行）</td><td>以文件所有者的权限执行</td><td>以文件所属组的权限执行或继承组</td></tr><tr><td>​<strong>​作用对象​</strong>​</td><td>文件或目录</td><td>文件（二进制或脚本）</td><td>文件或目录</td></tr><tr><td>​<strong>​权限位标志​</strong>​</td><td><code>r</code>/<code>w</code>/<code>x</code></td><td><code>s</code> 或 <code>S</code>（User位）</td><td><code>s</code> 或 <code>S</code>（Group位）</td></tr><tr><td>​<strong>​数字模式​</strong>​</td><td>0~7（User/Group/Other）</td><td>前缀 <code>4</code>（如 <code>4755</code>）</td><td>前缀 <code>2</code>（如 <code>2755</code>）</td></tr><tr><td>​<strong>​安全风险​</strong>​</td><td>权限分配不当导致越权访问</td><td>提权漏洞（如 SUID root程序滥用）</td><td>提权或组权限滥用（如 SGID目录）</td></tr><tr><td>​<strong>​典型场景​</strong>​</td><td>常规文件权限管理</td><td><code>passwd</code>, <code>sudo</code> 等特权命令</td><td>共享目录（团队协作）</td></tr></tbody></table><h3 id="提升反弹shell的交互性-攻击机" tabindex="-1"><a class="header-anchor" href="#提升反弹shell的交互性-攻击机"><span>提升反弹shell的交互性（攻击机）</span></a></h3><p><code>python -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;</code><br><code>stty raw -echo</code><br><code>export TERM=xterm-color</code></p><p><code>rlwrap nc -lvnp 443</code></p><h3 id="手动枚举-获得反弹shell" tabindex="-1"><a class="header-anchor" href="#手动枚举-获得反弹shell"><span>手动枚举（获得反弹shell）</span></a></h3><h4 id="第一个命令" tabindex="-1"><a class="header-anchor" href="#第一个命令"><span>第一个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">whoami</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="替代命令" tabindex="-1"><a class="header-anchor" href="#替代命令"><span>替代命令</span></a></h5><p><code>id</code> : 查看uid和root id，以及其有哪些权限<br><code>id+其他用户名</code> 查看其他用户的信息<br><code>who</code>可以显示有哪些用户登陆了系统<br><code>w</code>显示当前登录用户的详细信息，超详细<br><code>last</code>系统最近的登陆记录。</p><h4 id="第二个命令" tabindex="-1"><a class="header-anchor" href="#第二个命令"><span>第二个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uname</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看当前系统的版本号</p><h5 id="替代命令-1" tabindex="-1"><a class="header-anchor" href="#替代命令-1"><span>替代命令</span></a></h5><p><code>lsb_release -a</code>更详细的系统信息<br><code>cat /proc/version</code><br><code>cat /etc/issue</code><br><code>hostnamectl</code></p><h4 id="第三个命令" tabindex="-1"><a class="header-anchor" href="#第三个命令"><span>第三个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> addr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>看网卡，获得路由信息，可以发现内网更多信息</p><h5 id="替代命令-2" tabindex="-1"><a class="header-anchor" href="#替代命令-2"><span>替代命令</span></a></h5><p><code>ifconfig</code>较老的命令<br><code>ip route</code>替代<code>route</code>查看路由表信息<br><code>ip neigh</code>查看网络邻居<br><code>arp -a</code>查看哪些局域网的IP地址和MAC地址绑定</p><h4 id="第四个命令" tabindex="-1"><a class="header-anchor" href="#第四个命令"><span>第四个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hostname</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>看机器名称</p><h4 id="第五个命令" tabindex="-1"><a class="header-anchor" href="#第五个命令"><span>第五个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看哪些程序可以由root权限执行</p><h4 id="第六个命令" tabindex="-1"><a class="header-anchor" href="#第六个命令"><span>第六个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getcap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 2&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dev/null</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>2&gt;/dev/null</code>:扔掉错误信息</li></ul><h4 id="第七个命令" tabindex="-1"><a class="header-anchor" href="#第七个命令"><span>第七个命令</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -liah</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>列出全部文件</p><h3 id="第八个命令" tabindex="-1"><a class="header-anchor" href="#第八个命令"><span>第八个命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">history</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>操作过的命令</p><h3 id="第九个命令" tabindex="-1"><a class="header-anchor" href="#第九个命令"><span>第九个命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/passwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>用户名称：x（用shadow存储密码）：uid:gid：描述：家目录：bash环境</p><h3 id="第十个命令" tabindex="-1"><a class="header-anchor" href="#第十个命令"><span>第十个命令</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',42)]))}const o=t(d,[["render",n],["__file","linux提权.html.vue"]]),c=JSON.parse(`{"path":"/article/01_%E9%A1%B9%E7%9B%AE/%E6%B8%97%E9%80%8F/linux%E6%8F%90%E6%9D%83.html","title":"linux提权","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-05-11T00:00:00.000Z","tags":null,"title":"linux提权","category":["项目"],"description":"提权 PrivEsca---PE 几种权限体制 提升反弹shell的交互性（攻击机） python -c 'import pty;pty.spawn(\\"/bin/bash\\")' stty raw -echo export TERM=xterm-color rlwrap nc -lvnp 443 手动枚举（获得反弹shell） 第一个命令 替代命令 id...","head":[["meta",{"property":"og:url","content":"https://github.com/fakeppa/fakeppa.github.io/article/01_%E9%A1%B9%E7%9B%AE/%E6%B8%97%E9%80%8F/linux%E6%8F%90%E6%9D%83.html"}],["meta",{"property":"og:site_name","content":"问己"}],["meta",{"property":"og:title","content":"linux提权"}],["meta",{"property":"og:description","content":"提权 PrivEsca---PE 几种权限体制 提升反弹shell的交互性（攻击机） python -c 'import pty;pty.spawn(\\"/bin/bash\\")' stty raw -echo export TERM=xterm-color rlwrap nc -lvnp 443 手动枚举（获得反弹shell） 第一个命令 替代命令 id..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-28T07:52:54.000Z"}],["meta",{"property":"article:published_time","content":"2025-05-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-28T07:52:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"linux提权\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-11T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-28T07:52:54.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"fakeppa\\",\\"url\\":\\"https://github.com/fakeppa/fakeppa.github.io\\"}]}"]]},"headers":[{"level":2,"title":"提权","slug":"提权","link":"#提权","children":[{"level":3,"title":"几种权限体制","slug":"几种权限体制","link":"#几种权限体制","children":[]},{"level":3,"title":"提升反弹shell的交互性（攻击机）","slug":"提升反弹shell的交互性-攻击机","link":"#提升反弹shell的交互性-攻击机","children":[]},{"level":3,"title":"手动枚举（获得反弹shell）","slug":"手动枚举-获得反弹shell","link":"#手动枚举-获得反弹shell","children":[]},{"level":3,"title":"第八个命令","slug":"第八个命令","link":"#第八个命令","children":[]},{"level":3,"title":"第九个命令","slug":"第九个命令","link":"#第九个命令","children":[]},{"level":3,"title":"第十个命令","slug":"第十个命令","link":"#第十个命令","children":[]}]}],"git":{"createdTime":1746952893000,"updatedTime":1748418774000,"contributors":[{"name":"fakeppa","username":"fakeppa","email":"l17091799155@qq.com","commits":40,"url":"https://github.com/fakeppa"}]},"readingTime":{"minutes":1.82,"words":546},"filePathRelative":"article/01_项目/渗透/linux提权.md","localizedDate":"2025年5月11日","excerpt":"<h2>提权</h2>\\n<p>PrivEsca---PE</p>\\n<h3>几种权限体制</h3>\\n<table>\\n<thead>\\n<tr>\\n<th><strong>特性​</strong>​</th>\\n<th>​<strong>​UGO​</strong>​</th>\\n<th>​<strong>​SUID​</strong>​</th>\\n<th>​<strong>​SGID​</strong>​</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>​<strong>​核心目的​</strong>​</td>\\n<td>基础权限控制（读/写/执行）</td>\\n<td>以文件所有者的权限执行</td>\\n<td>以文件所属组的权限执行或继承组</td>\\n</tr>\\n<tr>\\n<td>​<strong>​作用对象​</strong>​</td>\\n<td>文件或目录</td>\\n<td>文件（二进制或脚本）</td>\\n<td>文件或目录</td>\\n</tr>\\n<tr>\\n<td>​<strong>​权限位标志​</strong>​</td>\\n<td><code>r</code>/<code>w</code>/<code>x</code></td>\\n<td><code>s</code>&nbsp;或&nbsp;<code>S</code>（User位）</td>\\n<td><code>s</code>&nbsp;或&nbsp;<code>S</code>（Group位）</td>\\n</tr>\\n<tr>\\n<td>​<strong>​数字模式​</strong>​</td>\\n<td>0~7（User/Group/Other）</td>\\n<td>前缀&nbsp;<code>4</code>（如&nbsp;<code>4755</code>）</td>\\n<td>前缀&nbsp;<code>2</code>（如&nbsp;<code>2755</code>）</td>\\n</tr>\\n<tr>\\n<td>​<strong>​安全风险​</strong>​</td>\\n<td>权限分配不当导致越权访问</td>\\n<td>提权漏洞（如 SUID root程序滥用）</td>\\n<td>提权或组权限滥用（如 SGID目录）</td>\\n</tr>\\n<tr>\\n<td>​<strong>​典型场景​</strong>​</td>\\n<td>常规文件权限管理</td>\\n<td><code>passwd</code>,&nbsp;<code>sudo</code>&nbsp;等特权命令</td>\\n<td>共享目录（团队协作）</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}`);export{o as comp,c as data};
