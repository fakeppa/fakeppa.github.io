---
icon: pen-to-square
date: 2025-05-13
tags: 
title: 有趣的小游戏
category:
  - 项目
---
这么多金币，谁吃得完？我！
经过字符串搜索，以及其他基本操作后，没有发现flag，我们直接开始动态调试
既然是一个小游戏，那么我们直接上cheat engine，查找变化的金币数值
![image.png](https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250513214814.png)
然后找到了对应地址，直接修改1000金币
但是成功后会出现乱码而并非flag，我们先吃几个金币再修改到1000，收集一下出现的乱码
![image.png](https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250513215011.png)
我们可以发现，先吃不同金币后修改的结果不一样，意味着，可能需要金币从0到1000的过程，那么，目标明确了
我们直接F5查找哪个汇编代码改写了此处的数值(F6)，再吃一个金币可以被监听到，经过尝试可知，不吃金币时并不会检测到对于金币数量的访问
![image.png](https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250513215318.png)

然后我们来到x64dbg进行进一步调试
![image.png](https://cdn.jsdelivr.net/gh/fakeppa/blog-img/20250513221454.png)
发现最顶上有一步je，那么我们反着来，把je改成jne，就会造成跳转条件的相反，也就是说，不需要吃到金币就会使金币数量增加
事实如此，我们可以猜测原逻辑，先判断是否吃掉金币，然后消除P所在的金币，然后再在任意位置生成一个金币，结果就会变成这样
![e6c7db1719f27a6f4f0f76f68b5266c.jpg](https://cdn.jsdelivr.net/gh/fakeppa/blog-img/e6c7db1719f27a6f4f0f76f68b5266c.jpg)
我们现在每移动一步就会使得金币+1，有一个小技巧可以快速增加金币
