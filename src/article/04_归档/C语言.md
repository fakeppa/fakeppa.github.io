---
icon: pen-to-square
date: 2025-01-03
tags: 
title: C语言
category:
  - 归档
---
**学C**
这是C程序编译后的内存的结构
```bash
高地址 (0x7fffffffffff)
+------------------------------+
|                              |  内核空间 (Kernel Space)
|                              |  (用户程序不可访问)
+------------------------------+  <-- 0x7fffffffffff (1<<47 -1)
|           ...                |
|   环境变量 (Environment vars)  |
|   命令行参数 (Command-line args)|  栈顶 (初始时)
|                              |
+------------------------------+  <-- 栈顶 (Stack Pointer, RSP) 向下增长
|           Stack              |
|           (向下增长 ↓)         |
|                              |
|           ...                |
|                              |
+------------------------------+
|           ...                |
|           ...                |  未映射区域 (Hole / Guard Page)
+------------------------------+
|                              |
|           Heap               |
|           (向上增长 ↑)         |
|                              |
+------------------------------+  <-- 堆底 (Break, brk/sbrk 管理)
|           .bss               |  (未初始化/零初始化全局/静态变量)
+------------------------------+
|           .data              |  (初始化非零全局/静态变量)
+------------------------------+
|           .rodata            |  (只读数据, 如字符串常量) [可能合并到 .text]
+------------------------------+
|           .text              |  (程序代码, 只读)
+------------------------------+
|   程序头部等 (ELF Header)      |  低地址 (0x400000 附近)
+------------------------------+
```
.text  是可执行代码存放的位置，
.rodata 是常量部分，如字符串的值
.data 初始化的非零，存储了键值对的内存段
.bss 值为0的变量区域，存储了键
  Heap  和 stack不必多说

## 从程序调用角度理解内存块的协调配合
